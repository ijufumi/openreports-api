@startuml

entity members {
  * id
  * email
  * name
  * password
    google_id
  * created_at
  * updated_at
  * versions
}

entity workspaces {
  * id
  * name
  * slug
  * created_at
  * updated_at
  * versions
}

entity workspace_members {
  * workspace_id
  * member_id
}

entity data_sources {
  * id
  * name
  * url
  * username
  * password
  * driver_type_id
  * workspace_id
}

entity driver_types {
  * id
  * name
  * jdbc_driver_class
}

entity reports {
  * id
  * workspace_id
  * name
  * report_template_id
  * data_source_id
}

entity report_templates {
  * id
  * workspace_id
  * storage_id
  * name
  * file_path
  * storage_type: [local, s3]
  * file_size
}

entity storages_s3 {
  * id
  * workspace_id
  * aws_access_key_id
  * aws_secret_access_key
  * aws_region
  * s3_bucket_name
}

workspaces --r{ workspace_members
workspace_members }-- members
workspaces --l{ data_sources
workspaces --{ reports
workspaces --{ report_templates
reports }-- report_templates
driver_types --{ data_sources
data_sources --{ reports
workspaces --{ storages_s3
storages_s3 --{ report_templates

@enduml
